<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>follone Options</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="wrap">
    <h1>follone Options</h1>

    <section class="card">
      <h2>基本</h2>
      <label class="row">
        <span>有効</span>
        <input type="checkbox" id="enabled">
      </label>

      <label>
        <span>AIモード</span>
        <select id="aiMode">
          <option value="auto">auto（Prompt APIがあれば使用 / なければMock）</option>
          <option value="mock">mock（簡易判定のみで常に動作）</option>
          <option value="off">off（AI判定なし）</option>
        </select>
      </label>

      <div class="grid2" style="margin-top:10px;">
        <label>
          <span>危険（ソフト）閾値</span>
          <input type="number" id="riskSoft" min="0" max="100" step="1">
        </label>
        <label>
          <span>危険（ハード）閾値</span>
          <input type="number" id="riskHard" min="0" max="100" step="1">
        </label>
      </div>

      <div class="grid2">
        <label>
          <span>バッチ数</span>
          <input type="number" id="batchSize" min="1" max="8" step="1">
        </label>
        <label>
          <span>アイドル(ms)</span>
          <input type="number" id="idleMs" min="100" max="5000" step="10">
        </label>
      </div>
    </section>

    <section class="card">
      <h2>フィルターバブル</h2>
      <div class="grid2">
        <label>
          <span>窓（件）</span>
          <input type="number" id="topicWindow" min="10" max="200">
        </label>
        <label>
          <span>最小サンプル</span>
          <input type="number" id="bubbleMinSamples" min="10" max="100">
        </label>
      </div>

      <div class="grid2">
        <label>
          <span>dominance</span>
          <input type="number" id="bubbleDominance" min="0.3" max="0.95" step="0.01">
        </label>
        <label>
          <span>entropy(低いほど偏り)</span>
          <input type="number" id="bubbleEntropy" min="0.1" max="1.0" step="0.01">
        </label>
      </div>

      <div class="grid2">
        <label>
          <span>クールダウン(ms)</span>
          <input type="number" id="bubbleCooldownMs" min="10000" max="3600000" step="1000">
        </label>
        <label class="row">
          <span>提案にLLMを使う</span>
          <input type="checkbox" id="bubbleUseLLM">
        </label>
      </div>
    </section>

    <section class="card">
      <h2>トピックカテゴリ（1行=1カテゴリ、最大30）</h2>
      <textarea id="topics" rows="10"></textarea>
    </section>

    <section class="card">
      <h2>レポート</h2>
      <div class="grid2">
        <label>
          <span>レポート最小秒</span>
          <input type="number" id="reportMinSeconds" min="10" max="3600">
        </label>
        <label>
          <span>無操作提案秒</span>
          <input type="number" id="inactiveSuggestSeconds" min="30" max="3600">
        </label>
      </div>
      <div class="grid2">
        <label>
          <span>無操作提案クール(ms)</span>
          <input type="number" id="inactiveCooldownMs" min="10000" max="3600000" step="1000">
        </label>
      </div>
    </section>

    <div class="footer">
      <button id="save">保存</button>
      <span id="status"></span>
    </div>
  </div>

  <script src="options.js"></script>
</body>
</html>
